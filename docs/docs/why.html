<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Why Aphrodite - Aphrodite</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/tufte.css">
<link rel="stylesheet" href="/main.css">
<link rel="stylesheet" href="/docs/index.css">

<meta name="description" content="Note: roadmap available here: blog/roadmap. The ultimate goal of Aphrodite is to make multi-platform (including local-first) and peer-to-peer software easier to develop. The Aphrodite project has made significant progress to that end but the more…">
<meta name="keywords" content="software, schemas, data">
<meta name="author" content="Matt Wonlaw">
<meta name="copyright" content="© 2022 Matt Wonlaw">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Aphrodite">
<meta property="og:title" content="Why Aphrodite">
<meta property="og:description" content="Note: roadmap available here: blog/roadmap. The ultimate goal of Aphrodite is to make multi-platform (including local-first) and peer-to-peer software easier to develop. The Aphrodite project has made significant progress to that end but the more…">
<meta property="og:image" content="https://aphrodite.sh/assets/gods/zeus.png">
<meta property="og:image:alt" content="Zeus">
<meta property="og:image:width" content="266">
<meta property="og:image:height" content="200">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://aphrodite.sh/assets/gods/zeus.png">
<meta name="twitter:image:alt" content="Zeus">
<meta name="twitter:site" content="@tantaman">
<meta name="twitter:label1" content="Reading time">
<meta name="twitter:data1" content="3-5 minutes">
</head>
<body><a href="https://github.com/tantaman/aphrodite" class="github-corner" aria-label="View source on GitHub"><svg width="100" height="100" viewBox="0 0 250 250" style="fill:var(--dress); color:var(--black); position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><aside><div class="center"><a class="home-link" href="/"><div class="god-circle center-block"><div class="god-head god-head-aphrodite"></div></div></a><a class="hamburger"></a></div><ol><li class="active indent"><a href="/docs/why">Why Aphrodite</a></li><li class="indent"><a href="/docs/quickstart">Quickstart</a></li><li class="indent"><a href="/docs/schemas">Schemas</a></li><li class="indent"><a href="/docs/models">Models</a></li><li class="indent"><a href="/docs/mutations-and-transactions">Mutating Data</a></li><li class="indent"><a href="/docs/queries">Queries</a></li><li class="indent"><a href="/docs/reactivity">Reactivity</a></li><li class="indent"><a href="/docs/migrations">Migrations</a></li><li class="indent"><a href="/docs/data-sync-p2p">Data Sync &#x26; P2P</a></li><li class="indent"><a href="/docs/permissions">Permissions</a></li></ol></aside><main><article><h1>Why Aphrodite</h1><p class="subtitle">the goals of Aphrodite and the problems being solved</p><section>
<nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#plurality-of-client-side-languages--platforms">Plurality of client side languages &#x26; platforms</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#orm-scope">ORM Scope</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#declarative-conflict-resolution">Declarative conflict resolution</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#peer-2-peer-discovery--state-replication">Peer-2-Peer discovery &#x26; state replication</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#permissions">Permissions</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#from-schemas-to-protocols">From Schemas to Protocols</a></li></ol></nav><blockquote>
<p>Note: roadmap available here: <a class="internal new" href="/blog/roadmap">blog/roadmap</a>.</p>
</blockquote>
<p>The ultimate goal of <code>Aphrodite</code> is to make multi-platform (including <a href="https://www.inkandswitch.com/local-first/">local-first</a>) and <a href="https://en.wikipedia.org/wiki/Peer-to-peer">peer-to-peer</a> software easier to develop. The <code>Aphrodite</code> project has made significant progress to that end but the more progress we make, the more opportunities we see.</p>
<p>A nice feature of the problems &#x26; opportunities thus far is that they can be tackled in sequence. Each solution building on the solution before it, each solution making local-first and p2p software a step function easier to develop, and each solution unlocking entirely new capabilities for application developers.</p>
<p>The best way to understand the value of <code>Aphrodite</code>, as well as the long term direction of the project, is to understand each of the opportunities that have been identified &#x26; the progress made against each.</p>
<p>Opportunities (workstreams):</p>
<ol>
<li>Plurality of client side languages &#x26; platforms</li>
<li>"ORM" Scope</li>
<li>Declarative conflict resolution in a relational world</li>
<li>Peer-2-Peer discovery &#x26; state replication</li>
<li>Permissions in a decentralized world</li>
<li>From Schemas to Protocols</li>
</ol>
<h2 id="plurality-of-client-side-languages--platforms"><a aria-hidden="true" tabindex="-1" href="#plurality-of-client-side-languages--platforms"><span class="icon icon-link"></span></a>Plurality of client side languages &#x26; platforms</h2>
<p>The plurality of client side languages and platforms (iOS, Android, Web, desktop, embedded) brings us an opportunity. Projects like <a href="https://reactnative.dev/">React Native</a> and <a href="https://flutter.dev/">Flutter</a> have solved the code-reuse problem for UI components but we're still struggling to share business logic and domain models between platforms without moving that code to the server. This makes modern apps nearly impossible to use offline, slow (due to network round trips), and complex (handling network failure, optimistic updates, polling and subscriptions).</p>
<p><code>Aphrodite</code> is designed as a multi-platform <code>ORM</code> and <code>Schema Definition Language</code>. <code>Aphrodite</code> <a class="internal new" href="/docs/schemas">schemas</a> generate code for interacting with and controlling your data model in a variety of target languages and paltforms. Think something like <a href="https://developers.google.com/protocol-buffers">protocol buffers</a> or <a href="https://thrift.apache.org/">thrift</a> but for persisted data.</p>
<p><code>Aphrodite</code>'s MVP targets TypeScript with the next language targets being (in current order of priority):</p>
<ol>
<li>Kotlin</li>
<li>Swift</li>
<li>Rust</li>
</ol>
<h2 id="orm-scope"><a aria-hidden="true" tabindex="-1" href="#orm-scope"><span class="icon icon-link"></span></a>ORM Scope</h2>
<p><code>Aphrodite</code> is really more than an ORM -- ORMs are just what it is most similar to.</p>
<p>ORMs don't go far enough in their scope. Yes, they express your data and relationships between your data but they generally stop there. They could (and should) include any concern that is a property of the data and can be expressed declaratively.</p>
<p>Concerns like:</p>
<ol>
<li>Invariants / consistency rules on the data</li>
<li>Row level read &#x26; write permissions (e.g., postgres row level security)</li>
<li>Relationship cardinality</li>
<li>Allowed mutations and shape of mutations (what values must be set at the same time, what values are computed, etc.)</li>
<li>Conflict resolution strategy</li>
<li>Semantic type(s)</li>
</ol>
<h2 id="declarative-conflict-resolution"><a aria-hidden="true" tabindex="-1" href="#declarative-conflict-resolution"><span class="icon icon-link"></span></a>Declarative conflict resolution</h2>
<p>If you're putting your data model on the client with the desire to allow your client to run completely offline for extended periods of time, then re-syncing with other peers or a server when your client is back online -- you need a way to do conflict resolution.</p>
<p>There are many exciting projects in this space</p>
<ul>
<li><a href="https://automerge.org/">automerge</a></li>
<li><a href="https://yjs.dev/">yjs</a></li>
<li><a href="https://gun.eco/">GunDB</a></li>
</ul>
<p><code>Aphrodite</code> differentiates itself by supporting relational and graph data models. The other differentiating factor is that <code>Aphrodite</code> is not schemaless.</p>
<p>On <code>Aphrodite</code>, we believe that schemas are important in order to:</p>
<ol>
<li>Prevent programmer mistakes</li>
<li>Provide type safe APIs</li>
<li>Detect mismatching (at the schema level) data models between peers</li>
<li>Define &#x26; enforce invariants on data</li>
<li>Enable better understanding of application data</li>
</ol>
<p>The schema is also where you declare your conflict resolution strategy for a given data type.</p>
<h2 id="peer-2-peer-discovery--state-replication"><a aria-hidden="true" tabindex="-1" href="#peer-2-peer-discovery--state-replication"><span class="icon icon-link"></span></a>Peer-2-Peer discovery &#x26; state replication</h2>
<h2 id="permissions"><a aria-hidden="true" tabindex="-1" href="#permissions"><span class="icon icon-link"></span></a>Permissions</h2>
<h2 id="from-schemas-to-protocols"><a aria-hidden="true" tabindex="-1" href="#from-schemas-to-protocols"><span class="icon icon-link"></span></a>From Schemas to Protocols</h2>
<script src="https://www.googletagmanager.com/gtag/js?id=G-QT6QH0ZJQ4" async></script>
<script src="/ga.js"></script>
<script src="/assets/god-switcher.js"></script>
</section></article></main></body>
</html>
